# Discord Notifications Setup

## Overview

The Kraken trading bot now sends real-time notifications to Discord via webhooks. You'll receive alerts for trades, errors, and a daily performance summary.

## Configuration

Your `kraken_config.json` is already configured with three Discord webhook URLs:

```json
{
  "discord": {
    "webhookTrading": "https://discord.com/api/webhooks/1455571279615754374/...",
    "webhookErrors": "https://discord.com/api/webhooks/1455573375102615797/...",
    "webhookDailySummary": "https://discord.com/api/webhooks/1457362227890753629/...",
    "dailySummaryTime": "10:00"
  }
}
```

## Notification Types

### 1. Trading Notifications (webhookTrading)

**Bot Startup**
- Sent when bot starts
- Shows starting equity
- Lists all trading pairs

**Buy Signal Executed**
- Symbol
- Quantity purchased
- Price paid
- Signal strength (0-100)
- Position value
- Confirmations (indicators that triggered)
- Green embed for buys

**Position Closed**
- Symbol
- Quantity sold
- Entry price vs Exit price
- Profit/Loss ($)
- P/L percentage
- Green embed for wins, red for losses

**Bot Shutdown**
- Final equity
- Lifetime stats (total trades, win rate)

### 2. Error Notifications (webhookErrors)

Sent automatically when errors occur:
- Buy order failures
- Sell order failures
- Analysis errors
- Daily summary errors

Each error alert includes:
- Error type
- Symbol (if applicable)
- Error message
- Timestamp

### 3. Daily Summary (webhookDailySummary)

Sent automatically every day at **10:00 AM** (configurable):

**Portfolio Stats:**
- Current equity
- Daily P/L ($ and %)
- Open positions

**Trading Performance:**
- Total trades today
- Wins vs Losses
- Win rate (%)
- Total P/L today

**Visual Indicators:**
- üî• Fire emoji if win rate ‚â•65%
- ‚úÖ Check if win rate ‚â•55%
- ‚ö†Ô∏è Warning if win rate ‚â•45%
- ‚ùå X if win rate <45%

## Customization

### Change Daily Summary Time

Edit `dailySummaryTime` in your config:

```json
"discord": {
  "dailySummaryTime": "09:00"  // Send at 9:00 AM
}
```

Time format: `"HH:MM"` in 24-hour format

### Disable Notifications

To disable any notification channel, set webhook to empty string:

```json
"discord": {
  "webhookTrading": "",  // Disables trade notifications
  "webhookErrors": "https://...",
  "webhookDailySummary": "https://..."
}
```

## What You'll See

### Example Buy Notification

```
üìà BUY Signal Executed

Symbol: SOLUSD
Quantity: 0.4500
Price: $100.00
Signal Strength: 72/100
Position Value: $45.00

Confirmations:
‚úì RSI oversold <40
‚úì MACD bullish
‚úì Above SMA20
‚úì High volume
‚úì Bullish candle

ü§ñ Generated by Kraken Trading Bot
```

### Example Position Closed (Win)

```
‚úÖ Position Closed - WIN

Symbol: SOLUSD
Quantity: 0.4500
Entry Price: $100.00
Exit Price: $104.50
Profit/Loss: +$2.03
P/L %: +4.50%

ü§ñ Generated by Kraken Trading Bot
```

### Example Daily Summary

```
üìä Daily Summary - January 7, 2026

üí∞ Portfolio: $467.80
üìà Daily P/L: +$17.80 (+3.96%)
üìç Open Positions: 2

üéØ Total Trades: 12
‚úÖ Wins / ‚ùå Losses: 8 / 4
‚úÖ Win Rate: 66.7%
üíµ Total P/L Today: +$17.80

ü§ñ Generated by Kraken Trading Bot - Daily Summary
```

### Example Error Alert

```
‚ö†Ô∏è Error Alert

Error Type: Buy Order Failed
Symbol: ADAUSD
Message: Insufficient funds

ü§ñ Generated by Kraken Trading Bot
```

## Discord Server Setup

If you need to create new webhooks:

1. Go to your Discord server
2. Right-click the channel ‚Üí Edit Channel
3. Go to Integrations ‚Üí Webhooks
4. Click "New Webhook"
5. Name it (e.g., "Trading Bot")
6. Copy the webhook URL
7. Paste into `kraken_config.json`

## Recommended Setup

Create **3 separate channels**:

1. **#trades** - For buy/sell notifications (webhookTrading)
2. **#errors** - For error alerts (webhookErrors)
3. **#daily-summary** - For daily summaries (webhookDailySummary)

This keeps your notifications organized!

## Testing

To test Discord notifications, start the bot. You should receive:
- **Startup notification** immediately in #trades
- **Trade notifications** when signals execute
- **Error notifications** if any issues occur
- **Daily summary** at 10:00 AM each day

## Security Note

‚ö†Ô∏è **Keep webhook URLs private!** Anyone with these URLs can post to your Discord channels.

The webhook URLs are stored in `kraken_config.json`, which is already in your `.gitignore` file to prevent accidental sharing.

## Troubleshooting

**Not receiving notifications?**
1. Check webhook URLs are correct
2. Verify webhooks are enabled in Discord server
3. Check `kraken-bot.log` for Discord errors
4. Test webhook manually with a tool like Postman

**Daily summary not sending?**
1. Verify `dailySummaryTime` is set correctly
2. Bot must be running at that time
3. Check system time is correct

## Features Summary

‚úÖ **Real-time trade alerts** - Never miss a buy or sell
‚úÖ **Error monitoring** - Immediate notification of issues
‚úÖ **Daily performance** - Automated summary at 10am
‚úÖ **Rich embeds** - Color-coded, organized notifications
‚úÖ **Multi-channel support** - Separate webhooks for different alert types
‚úÖ **Fully automated** - Set it and forget it

---

**Your bot is now fully integrated with Discord!** üöÄ

All notifications are automatic - just run the bot and watch your Discord channels light up with trading activity!
